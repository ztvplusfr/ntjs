(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{974:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(7841);function r(e){let{title:t,description:s,keywords:r,image:n,url:l,type:i="movie",releaseDate:o,genres:c,duration:d}=e;return(0,a.useEffect)(()=>{document.title=t;let e=(e,t)=>{let s=document.querySelector('meta[name="'.concat(e,'"]'))||document.querySelector('meta[property="'.concat(e,'"]'));s||((s=document.createElement("meta")).setAttribute(e.startsWith("og:")||e.startsWith("twitter:")?"property":"name",e),document.head.appendChild(s)),s.setAttribute("content",t)};e("description",s),r&&e("keywords",r),e("og:title",t),e("og:description",s),e("og:url",l||window.location.href),e("og:site_name","ZTVPlus - Streaming Platform"),e("og:locale","fr_FR"),e("og:type","movie"===i?"video.movie":"video.tv_show"),n&&(e("og:image",n),e("og:image:alt","".concat(t," - Poster officiel")),e("og:image:width","500"),e("og:image:height","750")),o&&e("og:release_date",o),d&&e("og:duration",d),c&&c.length>0&&e("og:tags",c.join(",")),e("twitter:card","summary_large_image"),e("twitter:title",t),e("twitter:description",s),n&&e("twitter:image",n);let a=document.querySelector('link[rel="canonical"]');a||((a=document.createElement("link")).setAttribute("rel","canonical"),document.head.appendChild(a)),a.setAttribute("href",l||window.location.href)},[t,s,r,n,l,i,o,c,d]),null}},1187:(e,t,s)=>{Promise.resolve().then(s.bind(s,2011))},1194:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5143).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1346:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5143).A)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]])},2011:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(2501),r=s(7841),n=s(5046),l=s(4284),i=s(1346),o=s(1194),c=s(5143);let d=(0,c.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),m=(0,c.A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),u=(0,c.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),x=(0,c.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var h=s(2997),p=s.n(h),g=s(6194),f=s(974);async function b(e){try{let t=await fetch("/api/series/".concat(e));if(!t.ok)return null;return await t.json()}catch(e){return console.error("Error fetching videos data:",e),null}}async function v(e){try{let t=await fetch("https://api.themoviedb.org/3/tv/".concat(e,"?api_key=").concat("f3d757824f08ea2cff45eb8f47ca3a1e","&language=fr-FR&append_to_response=credits,videos,recommendations"));if(!t.ok)return null;return await t.json()}catch(e){return console.error("Error fetching serie details:",e),null}}async function y(e,t){try{let s=await fetch("https://api.themoviedb.org/3/tv/".concat(e,"/season/").concat(t,"?api_key=").concat("f3d757824f08ea2cff45eb8f47ca3a1e","&language=fr-FR"));if(!s.ok)return null;return{episodes:(await s.json()).episodes||[]}}catch(e){return console.error("Error fetching season details:",e),null}}function j(){var e,t,s,c,h,j,w,N;let k=(0,n.useParams)(),_=(0,n.useSearchParams)(),[S]=k["id-title"].split("-"),A=_.get("season"),z=A?parseInt(A):1,[C,P]=(0,r.useState)(null),[F,E]=(0,r.useState)([]),[R,D]=(0,r.useState)(z),[M,q]=(0,r.useState)([]),[T,V]=(0,r.useState)(!0),[I,L]=(0,r.useState)(!1),[H,U]=(0,r.useState)(null),[O,Z]=(0,r.useState)(null),[W,B]=(0,r.useState)("");if((0,r.useEffect)(()=>{(async()=>{V(!0);let e=await v(S);if(!e)return(0,n.notFound)();if(P(e),e.number_of_seasons){let t=[];for(let s=1;s<=e.number_of_seasons;s++)t.push({id:s,name:"Saison ".concat(s),overview:"",season_number:s,episode_count:0,air_date:""});E(t)}V(!1)})()},[S]),(0,r.useEffect)(()=>{(async()=>{Z(await b(S))})()},[S]),(0,r.useEffect)(()=>{B(window.location.href)},[]),(0,r.useEffect)(()=>{let e=async()=>{var e;if(!C)return;L(!0),console.log("Chargement \xe9pisodes pour saison:",R,"ID:",S);let t=await y(S.toString(),R);console.log("\xc9pisodes re\xe7us:",(null==t||null==(e=t.episodes)?void 0:e.length)||0),q((null==t?void 0:t.episodes)||[]),L(!1)};C&&e()},[C,R,S]),T)return(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-gray-700 border-t-sky-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Chargement..."})]})});if(!C)return(0,n.notFound)();let G=C.backdrop_path?"https://image.tmdb.org/t/p/original".concat(C.backdrop_path):null;C.poster_path&&C.poster_path;let J=e=>{var t,s;if(!O)return!1;let a=null==(s=O.season[R])||null==(t=s.episodes[e])?void 0:t.videos;return a&&a.length>0};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{title:"".concat(C.name," (").concat(null==(e=C.first_air_date)?void 0:e.split("-")[0],") | ZTVPlus "),description:C.overview||"Regardez ".concat(C.name," en streaming HD gratuit sur ZTVPlus. ").concat(C.number_of_seasons?"".concat(C.number_of_seasons," saison").concat(C.number_of_seasons>1?"s":"","."):""," ").concat((null==(t=C.genres)?void 0:t.map(e=>e.name).slice(0,3).join(", "))||""),keywords:[C.name,"streaming","gratuit","s\xe9rie","VF","VOSTFR",...(null==(s=C.genres)?void 0:s.map(e=>e.name.toLowerCase()))||[],null==(c=C.first_air_date)?void 0:c.split("-")[0]].filter(Boolean).join(", "),image:C.poster_path?"https://image.tmdb.org/t/p/w500".concat(C.poster_path):"/og-default.jpg",url:W,type:"series",releaseDate:C.first_air_date,genres:null==(h=C.genres)?void 0:h.map(e=>e.name)}),(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsxs)("div",{className:"relative h-[70vh] overflow-hidden",children:[G&&(0,a.jsxs)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(G,")")},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),(0,a.jsx)("div",{className:"relative h-full flex items-end px-4 sm:px-6 lg:px-8 pb-8",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"flex flex-col gap-8 items-start max-w-5xl",children:(0,a.jsxs)("div",{className:"pb-4 lg:pb-8",children:[(0,a.jsx)("h1",{className:"text-4xl lg:text-6xl font-bold mb-4",children:C.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-gray-800/80 backdrop-blur rounded-full text-sm",children:null==(j=C.first_air_date)?void 0:j.split("-")[0]}),C.number_of_seasons&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-gray-800/80 backdrop-blur rounded-full text-sm",children:[C.number_of_seasons," saison",C.number_of_seasons>1?"s":""]}),C.episode_run_time&&C.episode_run_time[0]&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-gray-800/80 backdrop-blur rounded-full text-sm",children:[C.episode_run_time[0],"min"]}),(0,a.jsxs)("span",{className:"flex items-center px-3 py-1 bg-gray-800/80 backdrop-blur rounded-full text-sm",children:[(0,a.jsx)(l.A,{className:"text-yellow-400 mr-1",size:16}),(0,a.jsx)("span",{className:"font-medium",children:null==(w=C.vote_average)?void 0:w.toFixed(1)})]}),(0,a.jsx)(g.A,{title:C.name,url:W,type:"series"})]}),C.genres&&C.genres.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:C.genres.map(e=>(0,a.jsx)("span",{className:"px-3 py-1 bg-gray-700/60 backdrop-blur rounded-full text-sm border border-gray-600",children:e.name},e.id))}),(0,a.jsxs)("div",{className:"max-w-4xl",children:[(0,a.jsx)("p",{className:"text-gray-200 leading-relaxed text-base sm:text-lg mb-4",children:C.overview||"Aucun synopsis disponible."}),(()=>{if(console.log("Debug - episodes:",M.length,"videosData:",O?"loaded":"not loaded","selectedSeason:",R),I)return(0,a.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-600/20 to-sky-600/20 border border-blue-500/30 rounded-lg backdrop-blur-sm w-full",children:(0,a.jsx)("p",{className:"text-blue-300 text-center",children:"V\xe9rification des \xe9pisodes disponibles..."})});let e=M.filter(e=>J(e.episode_number));if(console.log("Debug - availableEpisodes:",e.length),e.length>0){let t=e.length,s=M.length,r=t===s&&s>0;return(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-600/20 to-emerald-600/20 border border-green-500/30 rounded-lg backdrop-blur-sm w-full",children:[(0,a.jsx)("p",{className:"text-white font-bold text-lg sm:text-xl text-center sm:text-left",children:r?"Saison ".concat(R," compl\xe8te disponible d\xe8s maintenant!"):1===t?"Saison ".concat(R," - ").concat(t," \xe9pisode disponible d\xe8s maintenant!"):"Saison ".concat(R," - ").concat(t," \xe9pisodes disponibles d\xe8s maintenant!")}),(0,a.jsxs)("p",{className:"text-green-300 text-sm sm:text-base text-center sm:text-left mt-1",children:[C.name," â€¢ ",t,"/",s," \xe9pisodes"]})]})}return null})()]})]})})})})]}),(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-12",children:(0,a.jsxs)("div",{className:"max-w-5xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Saisons et \xe9pisodes"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-8",children:F.map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{D(e);let t=new URL(window.location.href);1===e?t.searchParams.delete("season"):t.searchParams.set("season",e.toString()),window.history.replaceState({},"",t.toString())})(e.season_number),className:"px-6 py-3 rounded-lg font-medium transition-all ".concat(R===e.season_number?"bg-sky-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:e.name},e.id))}),I?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-700 border-t-sky-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Chargement des \xe9pisodes..."})]}):(0,a.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,a.jsx)("div",{className:"bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[e.still_path?(0,a.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(e.still_path),alt:e.name,className:"w-32 h-20 object-cover rounded-lg"}):(0,a.jsx)("div",{className:"w-32 h-20 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,a.jsx)(i.A,{size:24,className:"text-gray-600"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[J(e.episode_number)?(0,a.jsx)(p(),{href:"/watch/series/".concat(S,"/").concat(R,"/").concat(e.episode_number),className:"block group",children:(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1 group-hover:text-sky-400 transition-colors cursor-pointer",children:["\xc9pisode ",e.episode_number,": ",e.name]})}):(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-500 mb-1 cursor-default",children:["\xc9pisode ",e.episode_number,": ",e.name]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-2",children:[e.air_date&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{size:12}),(0,a.jsx)("span",{children:new Date(e.air_date).toLocaleDateString("fr-FR")})]}),e.runtime&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d,{size:12}),(0,a.jsxs)("span",{children:[e.runtime,"min"]})]})]}),e.overview&&(0,a.jsx)("p",{className:"text-gray-300 text-sm line-clamp-2",children:e.overview})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[J(e.episode_number)?(0,a.jsx)(p(),{href:"/watch/series/".concat(S,"/").concat(R,"/").concat(e.episode_number),className:"p-2 text-sky-400 hover:text-sky-300 hover:bg-sky-900/20 rounded-lg transition-colors",title:"Lire l'\xe9pisode",children:(0,a.jsx)(m,{size:16})}):(0,a.jsx)("div",{className:"p-2 text-gray-600 cursor-not-allowed rounded-lg",title:"\xc9pisode non disponible",children:(0,a.jsx)(m,{size:16})}),(0,a.jsx)("button",{onClick:()=>{var t;U(H===(t=e.id)?null:t)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:H===e.id?(0,a.jsx)(u,{size:20}):(0,a.jsx)(x,{size:20})})]})]})})]}),H===e.id&&e.overview&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-800",children:(0,a.jsx)("p",{className:"text-gray-300 leading-relaxed",children:e.overview})})]})},e.id))})]}),(null==(N=C.credits)?void 0:N.cast)&&C.credits.cast.length>0&&(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-8",children:"Distribution principale"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:C.credits.cast.slice(0,12).map(e=>(0,a.jsxs)("div",{className:"text-center group",children:[(0,a.jsx)("div",{className:"w-full aspect-square bg-gray-800 rounded-lg mb-3 overflow-hidden",children:e.profile_path?(0,a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:(0,a.jsx)("span",{className:"text-xs",children:"No photo"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.character})]},e.id))})]})]})})]})]})}},4284:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5143).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},5046:(e,t,s)=>{"use strict";var a=s(6218);s.o(a,"notFound")&&s.d(t,{notFound:function(){return a.notFound}}),s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6194:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(2501),r=s(7841),n=s(5143);let l=(0,n.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),i=(0,n.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),o=(0,n.A)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),c=(0,n.A)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),d=(0,n.A)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);function m(e){let{title:t,url:s,type:n}=e,[m,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),p=async()=>{try{await navigator.clipboard.writeText(s),u(!0),setTimeout(()=>u(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}},g=async()=>{if(navigator.share)try{await navigator.share({title:t,text:"Regarde ".concat(t," en streaming HD gratuit sur notre plateforme! ").concat("movie"===n?"\uD83C\uDFAC":"\uD83D\uDCFA"),url:s})}catch(e){console.error("Error sharing:",e)}else h(!x)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-lg transition-colors",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{size:18}),(0,a.jsx)("span",{children:"Copi\xe9!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{size:18}),(0,a.jsx)("span",{children:"Partager"})]})}),x&&(0,a.jsx)("div",{className:"absolute top-full mt-2 right-0 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50 min-w-[200px]",children:(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)("button",{onClick:p,className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-700 rounded transition-colors",children:[(0,a.jsx)(o,{size:16,className:"text-gray-400"}),(0,a.jsx)("span",{className:"text-sm",children:"Copier le lien"})]}),(0,a.jsxs)("button",{onClick:()=>{let e="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(s));window.open(e,"_blank","width=600,height=400")},className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-700 rounded transition-colors",children:[(0,a.jsx)(c,{size:16,className:"text-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Facebook"})]}),(0,a.jsxs)("button",{onClick:()=>{let e="Regarde ".concat(t," en streaming HD gratuit! ").concat("movie"===n?"#film #streaming":"#serie #streaming"," \uD83C\uDF7F"),a="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e),"&url=").concat(encodeURIComponent(s));window.open(a,"_blank","width=600,height=400")},className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-700 rounded transition-colors",children:[(0,a.jsx)(d,{size:16,className:"text-sky-400"}),(0,a.jsx)("span",{className:"text-sm",children:"Twitter"})]})]})}),x&&(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)})]})}}},e=>{e.O(0,[879,698,573,358],()=>e(e.s=1187)),_N_E=e.O()}]);