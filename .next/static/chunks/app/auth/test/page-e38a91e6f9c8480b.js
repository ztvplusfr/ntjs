(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[890],{3290:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>c});var n=i(2501),l=i(1308),r=i(7841),d=i(8490);function c(){var e,s,i,c,a;let{data:t,status:o}=(0,l.useSession)(),[x,h]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{h(!0)},[]),x)?(0,n.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Test d'authentification Discord"}),(0,n.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\xc9tat de la session"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Status:"})," ",o]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Session:"})," ",t?"Connect\xe9":"Non connect\xe9"]}),t&&(0,n.jsxs)("div",{className:"mt-4 p-4 bg-gray-800 rounded",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"User ID:"})," ",null==(e=t.user)?void 0:e.id]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Name:"})," ",null==(s=t.user)?void 0:s.name]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",(null==(i=t.user)?void 0:i.email)||"Non disponible"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Avatar:"})," ",null==(c=t.user)?void 0:c.image]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Access Token:"})," ",(null==(a=t.user)?void 0:a.accessToken)?"Pr\xe9sent":"Absent"]})]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Variables d'environnement"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"NEXTAUTH_URL:"})," ","D\xe9fini"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"DISCORD_CLIENT_ID:"})," ",d.env.DISCORD_CLIENT_ID?"D\xe9fini":"Non d\xe9fini"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"DISCORD_CLIENT_SECRET:"})," ",d.env.DISCORD_CLIENT_SECRET?"D\xe9fini":"Non d\xe9fini"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"NEXTAUTH_SECRET:"})," ",d.env.NEXTAUTH_SECRET?"D\xe9fini":"Non d\xe9fini"]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,n.jsx)("button",{onClick:()=>(0,l.signIn)("discord"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Se connecter avec Discord"})]}),(0,n.jsxs)("div",{className:"mt-8 bg-gray-900 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Instructions de configuration Discord"}),(0,n.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"1. Configuration de l'application Discord"}),(0,n.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[(0,n.jsx)("li",{children:"Allez sur https://discord.com/developers/applications"}),(0,n.jsx)("li",{children:"S\xe9lectionnez votre application"}),(0,n.jsx)("li",{children:'Allez dans "OAuth2" â†’ "General"'}),(0,n.jsxs)("li",{children:["Ajoutez ce redirect URI: ",(0,n.jsx)("code",{className:"bg-gray-800 px-2 py-1 rounded",children:"http://192.168.1.3:3000/api/auth/callback/discord"})]}),(0,n.jsxs)("li",{children:["V\xe9rifiez que les scopes incluent: ",(0,n.jsx)("code",{className:"bg-gray-800 px-2 py-1 rounded",children:"identify"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"2. Red\xe9marrez le serveur"}),(0,n.jsx)("p",{className:"text-gray-300",children:"Apr\xe8s avoir modifi\xe9 .env.local, arr\xeatez et red\xe9marrez votre serveur de d\xe9veloppement."})]})]})]})]})}):(0,n.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Chargement..."})})})}},6439:(e,s,i)=>{Promise.resolve().then(i.bind(i,3290))}},e=>{e.O(0,[308,698,573,358],()=>e(e.s=6439)),_N_E=e.O()}]);